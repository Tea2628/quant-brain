# 规格-UI组件库与设计系统（v0.1 草案）

> 目标：建立统一的 Design Token 与组件基线，保障中文化、A11y、性能与科技感风格；为 M2~M3 的页面框架与关键路径（查看→提案→审批→干跑）提供一致外观与交互【1】。

## 1. Design Token（最小集）
- 色板：`primary / success / warning / danger / info`；盈亏色：`profit #26A69A`，`loss #EF5350`
- 中性色：`bg-0 #0B0F1A`、`bg-1 #121826`、`text-0 #E6EAF2`、`text-1 #A7B1C2`、`border #273244`
- 圆角：`radius-xs 6`、`sm 10`、`md 14`、`lg 20`、`xl 28`
- 阴影：`card 0 6 20 rgba(0,0,0,.24)`；霓虹点缀：`neon 0 0 24 #5EEAD4`
- 字体与字号：中文等宽数字；`12/14/16/20/24/32`（标题至正文）
- 间距：`4/8/12/16/24/32`；密度切换（紧凑/标准）
- 动效：过渡 ≤ `300ms`，入场 ≤ `200ms`；`ease-in-out`
- 暗/亮主题变量：`--bg`、`--text`、`--muted`、`--card`、`--primary`、`--profit`、`--loss`

## 2. 无障碍（A11y）与国际化
- 对比度：文本对背景 **AA**；盈亏色同时使用形状/箭头辅助
- 键盘可达：焦点可见，主流程可全键盘完成
- ARIA：对话框/通知/错误信息元素均设置语义
- 本地化：**中文为主**，错误消息与空态完整中文文案

## 3. 组件清单（最小必备）
- 布局：侧栏导航 / 顶栏 / 面包屑 / 页脚
- 反馈：Toast/通知、加载骨架、错误边界、结果空态
- 数据：虚拟滚动表格（列配置、导出 CSV）、卡片 KPI
- 图表：K 线（指标层/标注）、收益与回撤曲线
- 表单：策略/风控/回测表单；审批对话框（2/3 级确认）
- 聊天：气泡 + 提案卡片化（只展示 **结构化 Proposal**）

## 4. 状态与主题规范
- 深色为默认；亮色可切换；记忆上次选择
- 断线/离线提示；夜间模式不提升亮度
- 盈亏色不可只依赖颜色；同时给上/下箭头/标签

## 5. 性能与质量基线
- 首屏（内网）TTI ≤ **2.5s**；交互响应 ≤ **100ms**
- 图表 1 万点保持 **60fps**（抽样 + 虚拟化）
- WS 断线重连（指数退避），前端背压与节流

## 6. 可观测性埋点（前端）
- 每个关键按钮：`{trace_id, user_id, action, object, ts}`
- 错误边界上报：`{error_code, message, stack, route, ts}`

## 7. 验收（DoD）
- 主题 Token 与深/浅色切换可用；AA 对比度通过
- 表格/图表组件 Demo 可跑；空/错/加载态齐备
- 提案卡片仅展示 **结构化 Proposal**，不出现自然语言“下单”指令
- 关键路径（查看→提案→审批→干跑）样式一致，可走通
> 参考：功能清单 M2/M3 的 UI 要求与性能/A11y 基线【1】。

[1] 见《开发功能清单与开发顺序》M2/M3 UI 要求（中文化、科技感、组件与性能/A11y 基线）。
